<%= form_for @user do |f| %>

<a href="#formTop"></a>
<div class="row">
  <div class="col-xs-12">
    
    <%= render "/partials/flash_message" %>

    <% if flash[:just_signed_up] %>
    <div class="alert alert-success">
      <h3>
        Welcome, <%= @user.email %>
      </h3>
    </div>
    <% end %>

      <%= hidden_field_tag :current_tab, controller_name %>

      <div class="panel panel-default">

        <div class="panel-body">
          <div class="row">

            <%= render partial: "navtabs", locals: {user: @user} %>

            <!-- Tab panes -->
            <div class="tab-content">

              <!-- Account Details -->
              <div class="tab-pane active" id="accountDetails">
                <div class="col-xs-12">

                  <div id="form-group-account" class="form-group well" style="margin-top: 20px;">

                    <div id="form-group-usertype" class="form-group">
                      <label for="input_usertype">User Type: </label>
                      <%=
                      f.select(
                        :usertype,
                        options_for_select(
                          [
                            ['Staff', "staff", {}],
                            ['Customer', "customer", {}]
                          ],
                          @user.usertype
                        ),
                        {},
                        {class: "btn btn-default"}
                      )
                      %>
                    </div>

                    <div id="form-group-email" class="form-group">
                      <label for="input_email">Email address</label>
                      <span class='error-message'></span>
                      <%= f.text_field :email, type: 'email', id: 'input_email', :class => 'form-control'%>
                    </div>

                    <div id="form-group-first-name" class="form-group">
                      <label for="input_first_name">First Name</label>
                      <span class='error-message'></span>
                      <%= f.text_field :first_name, type: 'text', id: 'input_first_name', :class => 'form-control'%>
                    </div>

                    <div id="form-group-last-name" class="form-group">
                      <label for="input_last_name">Last Name</label>
                      <span class='error-message'></span>
                      <%= f.text_field :last_name,  type: 'text', id: 'input_last_name',  :class => 'form-control'%>
                    </div>

                    <div id="form-group-home-phone" class="form-group">
                      <label for="input_home_phone">Home Phone</label>
                      <span class='error-message'></span>
                      <%= f.text_field :home_phone, type: 'text', id: 'input_home_phone', :class => 'form-control'%>
                    </div>

                    <div id="form-group-work-phone" class="form-group">
                      <label for="input_work_phone">Work Phone</label>
                      <span class='error-message'></span>
                      <%= f.text_field :work_phone, type: 'text', id: 'input_work_phone', :class => 'form-control'%>
                    </div>

                    <div id="form-group-mobile-phone" class="form-group">
                      <label for="input_mobile_phone">Mobile Phone</label>
                      <span class='error-message'></span>
                      <%= f.text_field :mobile_phone, type: 'text', id: 'input_mobile_phone', :class => 'form-control'%>
                    </div>
                  </div>

                  <div class="form-group">
                    <button id="submitButton" type="submit" class="btn btn-primary pull-right">Update Details</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

  </div>
</div>

<% end %>